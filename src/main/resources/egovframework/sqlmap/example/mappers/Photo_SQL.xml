<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.example.sample.service.impl.PhotoMapper">
<select id="getPhotoBoardList" resultType="PhotoListGetVo">
SELECT ifile, iboard, original_name originalName, saved_name savedName, ext
FROM file_tbl
WHERE ext = '.png' OR ext = '.jpg'
<!--
<if test="name != null and name != ''">
AND name LIKE '%${name}%'
</if>
<if test="title != null and title != ''">
AND title LIKE '%${title}%'
</if>
-->
ORDER BY iboard DESC
LIMIT #{pageStart}, #{amount}
</select>

<!-- 페이지네이션에 사용할 게시글 총 개수 -->
<select id="getPhotoBoardListCnt" parameterType="Criteria" resultType="int">
SELECT COUNT(*)
FROM board_tbl
WHERE CODE = 0
	<if test="name != null and name != ''">
	AND NAME LIKE '%${name}%'
	</if>
	<if test="title != null and title != ''">
	AND title LIKE '%${title}%'
	</if>
ORDER BY iboard DESC
</select>
</mapper>